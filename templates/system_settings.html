{% extends "base.html" %}
{% block title %}System Settings{% endblock %}
{% block content %}
<div class="container max-w-xl mx-auto">
  <h2 class="text-2xl font-bold mb-4">System Settings</h2>
  <form method="post" class="bg-white rounded-lg shadow p-6 flex flex-col gap-4">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div>
      <label for="subnet_range" class="block font-medium mb-1">Subnet Range</label>
      <input type="text" name="subnet_range" value="{{ config.subnet_range }}" required placeholder="e.g. 203.0.113.0/24" class="border border-gray-300 rounded px-3 py-2 w-full">
    </div>
    <div>
      <label for="bridge_name" class="block font-medium mb-1">Bridge Name</label>
      <input type="text" name="bridge_name" value="{{ config.bridge_name }}" required placeholder="e.g. br0" class="border border-gray-300 rounded px-3 py-2 w-full">
    </div>
    <div>
      <label for="network_interface" class="block font-medium mb-1">Network Interface</label>
      <input type="text" name="network_interface" value="{{ config.network_interface }}" required placeholder="e.g. eth0" class="border border-gray-300 rounded px-3 py-2 w-full">
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label for="max_containers" class="block font-medium mb-1">Max Containers</label>
        <input type="number" name="max_containers" value="{{ config.max_containers }}" min="1" max="254" required class="border border-gray-300 rounded px-3 py-2 w-full">
      </div>
      <div>
        <label for="default_cpu_limit" class="block font-medium mb-1">Default CPU Limit (cores)</label>
        <input type="number" step="0.01" name="default_cpu_limit" value="{{ config.default_cpu_limit }}" min="0.1" max="2.0" required class="border border-gray-300 rounded px-3 py-2 w-full">
      </div>
      <div>
        <label for="default_memory_limit" class="block font-medium mb-1">Default Memory Limit (MB)</label>
        <input type="number" name="default_memory_limit" value="{{ config.default_memory_limit // (1024*1024) }}" min="64" max="2048" required class="border border-gray-300 rounded px-3 py-2 w-full">
      </div>
      <div class="flex items-center mt-6">
        <input type="checkbox" name="auto_assign_ips" id="auto_assign_ips" {% if config.auto_assign_ips %}checked{% endif %} class="mr-2">
        <label for="auto_assign_ips" class="font-medium">Auto-assign IPs</label>
      </div>
    </div>
    <button class="btn w-full mt-4" type="submit">Save Configuration</button>
  </form>
</div>
{% endblock %}
